(window.webpackJsonp=window.webpackJsonp||[]).push([[67,18,21,22],{382:function(e,t,n){"use strict";n.r(t);var o={},r=n(30),component=Object(r.a)(o,(function(){var e=this;return(0,e._self._c)("div",{staticClass:"round drop-shadow p:16|48 bg:white cursor:pointer",on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)}),[],!1,null,null,null);t.default=component.exports},387:function(e,t,n){"use strict";n.r(t);n(67);var o={data:function(){return{response:null}},methods:{receiveResponse:function(data){var e=this;data&&(this.$set(this,"response",data),"redirect_to_newebpay"==data.payment_type?setTimeout((function(t){e.$refs.newebpay_form.submit()}),2e3):"refresh"==data.payment_type&&setTimeout((function(e){window.location.reload()}),1e3))}}},r=n(30),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",[e.response&&"redirect_to_newebpay"==e.response.payment_type?t("form",{ref:"newebpay_form",staticClass:"display:none",attrs:{method:"POST",action:e.response.payment_info.submit_url}},[t("input",{attrs:{name:"MerchantID"},domProps:{value:e.response.payment_info.merchant_id}}),e._v(" "),t("input",{attrs:{name:"Version"},domProps:{value:e.response.payment_info.version}}),e._v(" "),t("input",{attrs:{name:"TradeInfo"},domProps:{value:e.response.payment_info.trade_info}}),e._v(" "),t("input",{attrs:{name:"TradeSha"},domProps:{value:e.response.payment_info.hash}})]):e._e()])}),[],!1,null,null,null);t.default=component.exports},395:function(e,t,n){"use strict";n.r(t);var o={props:["field"]},r=n(30),component=Object(r.a)(o,(function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"font-size:0.8rem mb:8 color:gray"},[e._v("\n    "+e._s(e.field)+"\n  ")]),e._v(" "),t("div",[e._t("default")],2)])}),[],!1,null,null,null);t.default=component.exports},473:function(e,t,n){"use strict";n.r(t);var o=n(3),r=(n(21),n(71)),l=n(72),v=n.n(l),d=n(135),_=n.n(d),c={data:function(){return{COLORS:_.a,config:v.a.getConfig(),isMaintenancing:v.a.isMaintenancing(),isOpened:v.a.isHotelReservationOpened(),openDatetimeRange:v.a.getHotelReservationOpenDatetimeRange(),loading:!0,hotelReservationStatus:null,payment_info:null}},mounted:function(){this.gethotelReservationStatus(),this.$store.commit("app/setTitle",this.$t("hotelReservation.menu.title"))},methods:{gethotelReservationStatus:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$axios.get("/api/hotelReservation").then((function(t){e.hotelReservationStatus=t.data,e.loading=!1})).catch((function(e){r.a.showRequestError(e)}));case 3:e.loading=!1;case 4:case"end":return t.stop()}}),t)})))()},pay:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.loading=!0,t.next=3,e.$axios.get("/api/hotelReservation/payment").then((function(t){e.payment_info=t.data.payment_info,r.a.showSnackbar({message:e.$t(t.data.code),colorType:"positive"}),e.$refs.paymentGateway.receiveResponse(t.data)})).catch((function(t){r.a.showRequestError(t),e.loading=!1}));case 3:case"end":return t.stop()}}),t)})))()}}},h=n(30),component=Object(h.a)(c,(function(){var e=this,t=e._self._c;return t("div",[t("Loading",{attrs:{value:e.loading}}),e._v(" "),e.hotelReservationStatus?t("div",[null==e.hotelReservationStatus.hotel_reservation?t("div",[t("div",{staticClass:"p:96|32 bg:white flex flex-center font-size:1.4rem round drop-shadow border"},[e._v("\n        "+e._s(e.hotelReservationStatus.can_reserve?e.$t("hotelReservation.messages.notReserved"):e.$t("hotelReservation.errors.needRegisterFirst"))+"\n      ")]),e._v(" "),e.hotelReservationStatus.can_reserve?t("div",{staticClass:"mt:32 flex flex-center"},[e.isOpened&&!e.isMaintenancing?t("nuxt-link",{attrs:{to:e.localePath("/hotelReservation/tos")}},[t("RoundButton",[e._v(e._s(e.$t("hotelReservation.actions.reserveNow")))])],1):e.isMaintenancing?t("RoundButton",[e._v("\n          "+e._s(e.$t("common.errors.maintenancing"))+"\n        ")]):t("RoundButton",[e._v("\n          "+e._s(e.$t("common.errors.ended"))+"\n        ")])],1):e._e()]):t("div",[1==e.hotelReservationStatus.hotel_reservation.hotel_reservation_status?t("div",{staticClass:"round border drop-shadow bg:white p:32|16 flex flex-center flex-direction:column mb:32"},[t("div",{staticClass:"font-size:2rem font-weight:bold",style:{color:e.COLORS.negative.background}},[e._v("\n          "+e._s(e.$t("payment.enums.paymentStatus.unpaid"))+"\n        ")]),e._v(" "),e.isMaintenancing?t("RoundButton",{staticClass:"mt:16 border"},[e._v("\n          "+e._s(e.$t("common.errors.maintenancing"))+"\n        ")]):t("RoundButton",{staticClass:"mt:16 border",on:{click:e.pay}},[e._v("\n          "+e._s(e.$t("hotelReservation.actions.payNow"))+"\n        ")]),e._v(" "),t("PaymentGateway",{ref:"paymentGateway"})],1):e._e(),e._v(" "),3==e.hotelReservationStatus.hotel_reservation.hotel_reservation_status?t("div",{staticClass:"round border drop-shadow bg:white p:32|16 flex flex-center flex-direction:column mb:32"},[t("div",{staticClass:"font-size:2rem font-weight:bold",style:{color:e.COLORS.primary.background}},[e._v("\n          "+e._s(e.$t("payment.enums.paymentStatus.needManualIntervention"))+"\n        ")])]):e._e(),e._v(" "),5==e.hotelReservationStatus.hotel_reservation.hotel_reservation_status?t("div",{staticClass:"round border drop-shadow bg:white p:32|16 flex flex-center flex-direction:column mb:32"},[t("div",{staticClass:"font-size:2rem font-weight:bold",style:{color:e.COLORS.negative.background}},[e._v("\n          "+e._s(e.$t("payment.enums.paymentStatus.paymentInfoReceived"))+"\n        ")]),e._v(" "),t("div",{staticClass:"mt:16 color:gray font-size:1.2rem"},[e._v("\n          "+e._s(e.$t("payment.messages.paymentInfo"))+"\n        ")]),e._v(" "),t("div",{staticClass:"mt:16 color:gray font-size:1.2rem font-weight:bold"},[e._v("\n          "+e._s(e.hotelReservationStatus.order.order_payment_info)+"\n        ")]),e._v(" "),t("div",{staticClass:"mt:16 color:gray font-size:1.2rem font-weight:bold"},[e._v("\n          "+e._s(e.$t("hotelReservation.infoFields.hotelReservationTotalAmount"))+"\n          :\n          "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_total_amount)+"\n          / "+e._s(e.$t("payment.fields.orderExpireDatetime"))+" :\n          "+e._s(new Date(e.hotelReservationStatus.order.order_expire_datetime).toLocaleString())+"\n        ")])]):e._e(),e._v(" "),10==e.hotelReservationStatus.hotel_reservation.hotel_reservation_status?t("div",{staticClass:"round border drop-shadow bg:white p:16|16 flex flex-center flex-direction:column mb:32"},[t("i",{staticClass:"mdi mdi-check font-size:6rem",style:{color:e.COLORS.positive.background}}),e._v(" "),t("div",{staticClass:"font-size:1.6rem mb:16"},[e._v("\n          "+e._s(e.$t("payment.enums.paymentStatus.paid"))+"\n        ")])]):e._e(),e._v(" "),t("div",{staticClass:"round border drop-shadow bg:white p:32|16 flex flex-center flex-direction:column"},[t("div",{staticClass:"font-weight:bold mb:32"},[e._v("\n          "+e._s(e.$t("hotelReservation.infoFields.reservationInfo"))+"\n        ")]),e._v(" "),t("div",{staticClass:"display:grid grid-template-columns:repeat(3,1fr)@>sm grid-template-columns:1fr@<sm gap:16"},[t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationHotelRoomType")}},[e._v("\n            "+e._s(e.$t("rooms."+e.hotelReservationStatus.hotel_reservation.hotel_reservation_hotel_room_type))+"\n          ")]),e._v(" "),t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationHeadcount")}},[e._v("\n            "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_headcount)+"\n          ")]),e._v(" "),t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationDateText")}},[e._v("\n            "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_date_text)+"\n          ")]),e._v(" "),t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationRealname")}},[e._v("\n            "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_realname)+"\n          ")]),e._v(" "),t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationTelephone")}},[e._v("\n            "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_telephone)+"\n          ")]),e._v(" "),t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationEmail")}},[e._v("\n            "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_email)+"\n          ")]),e._v(" "),e.config.hotel_reservation.room_can_be_upgrade?t("InfoField",{attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationIsUpgrade")}},[e._v("\n            "+e._s(e.$t(e.hotelReservationStatus.hotel_reservation.hotel_reservation_is_upgrade?e.$t("common.yes"):e.$t("common.no")))+"\n            "),e.hotelReservationStatus.hotel_reservation.hotel_reservation_upgrade_selected?t("span",[e._v("\n              ("+e._s(e.$t("hotelReservation.infoFields.hotelReservationIsUpgradeSelected"))+"\n              :\n              "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_upgrade_selected?e.$t("common.yes"):e.$t("common.no"))+")\n            ")]):e._e()]):e._e(),e._v(" "),t("InfoField",{staticClass:"grid-column-start:1 grid-column-end:3@>sm",attrs:{field:e.$t("hotelReservation.infoFields.hotelReservationRemarks")}},[e._v("\n            "+e._s(e.hotelReservationStatus.hotel_reservation.hotel_reservation_remarks)+"\n          ")])],1),e._v(" "),t("div",{staticClass:"mt:16"},[e._v("\n          "+e._s(e.$t("common.messages.ifNeedToChangeData"))+"\n        ")])])])]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{Loading:n(169).default,RoundButton:n(382).default,PaymentGateway:n(387).default,InfoField:n(395).default})}}]);